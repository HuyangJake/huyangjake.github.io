<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Cookie in iOS | ColdCode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="èƒŒæ™¯é¡¹ç›®ä¸­ç”¨åˆ°äº†æœ¬åœ°ç™»å½•å­˜å‚¨cookieï¼Œå†è¿›è¡ŒwebViewè¯·æ±‚æ—¶é—´å¸¦ä¸Šcookieçš„åŠŸèƒ½ã€‚ä¸æ˜¯å¾ˆæ¸…æ™°é€»è¾‘ï¼Œäºæ˜¯å­¦ä¹ äº†è§£äº†ä¸‹iOSä¸­cookieçš„ä½¿ç”¨ï¼Œåšä¸ªå°ç»“ã€‚è·³è¿‡æ¦‚å¿µç›´æ¥çœ‹ä½¿ç”¨ğŸŒ°">
<meta name="keywords" content="iOS">
<meta property="og:type" content="article">
<meta property="og:title" content="Cookie in iOS">
<meta property="og:url" content="http://jake.gift/2017/01/12/cookie-in-iOS/index.html">
<meta property="og:site_name" content="ColdCode">
<meta property="og:description" content="èƒŒæ™¯é¡¹ç›®ä¸­ç”¨åˆ°äº†æœ¬åœ°ç™»å½•å­˜å‚¨cookieï¼Œå†è¿›è¡ŒwebViewè¯·æ±‚æ—¶é—´å¸¦ä¸Šcookieçš„åŠŸèƒ½ã€‚ä¸æ˜¯å¾ˆæ¸…æ™°é€»è¾‘ï¼Œäºæ˜¯å­¦ä¹ äº†è§£äº†ä¸‹iOSä¸­cookieçš„ä½¿ç”¨ï¼Œåšä¸ªå°ç»“ã€‚è·³è¿‡æ¦‚å¿µç›´æ¥çœ‹ä½¿ç”¨ğŸŒ°">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog">
<meta property="og:image" content="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/setcookie%E9%A6%96%E9%83%A81.png-blog">
<meta property="og:image" content="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/setcookie%E9%A6%96%E9%83%A82.png-blog">
<meta property="og:image" content="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/setcookie2%E9%A6%96%E9%83%A8.png-blog">
<meta property="og:updated_time" content="2017-09-13T14:31:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cookie in iOS">
<meta name="twitter:description" content="èƒŒæ™¯é¡¹ç›®ä¸­ç”¨åˆ°äº†æœ¬åœ°ç™»å½•å­˜å‚¨cookieï¼Œå†è¿›è¡ŒwebViewè¯·æ±‚æ—¶é—´å¸¦ä¸Šcookieçš„åŠŸèƒ½ã€‚ä¸æ˜¯å¾ˆæ¸…æ™°é€»è¾‘ï¼Œäºæ˜¯å­¦ä¹ äº†è§£äº†ä¸‹iOSä¸­cookieçš„ä½¿ç”¨ï¼Œåšä¸ªå°ç»“ã€‚è·³è¿‡æ¦‚å¿µç›´æ¥çœ‹ä½¿ç”¨ğŸŒ°">
<meta name="twitter:image" content="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog">
  
    <link rel="alternative" href="/atom.xml" title="ColdCode" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- åŠ è½½ç‰¹æ•ˆ -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: false,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img src="/img/head.jpg" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">Jakey_yang</a></h1>
        </hgroup>

        
        <p class="header-subtitle">æ‰˜èµ·ä¸€ç‰‡ç»¿å¶ï¼Œèµ°å‘æ›´è¿œçš„è¿œæ–¹</p>
        
        
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">ä¸»é¡µ</a></li>
                        
                            <li><a href="/tags/iOS/">iOS</a></li>
                        
                            <li><a href="/tags/éšç¬”/">éšç¬”</a></li>
                        
                            <li><a href="/tags/å­¦ä¹ ç¬”è®°/">å­¦ä¹ ç¬”è®°</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/huyangjake" title="github">github</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl jianshu" target="_blank" href="http://www.jianshu.com/u/b64617df987a" title="jianshu">jianshu</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://onevcat.com/#blog">onevcat</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.sunnyxx.com/">sunnyxx</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.cnbang.net/">bang</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com/">å”å·§</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/88a056103c02/latest_articles">æ²¡æ•…äº‹çš„å“åŒå­¦</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://casatwy.com/">Casa Taloyum</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://nianxi.net/">å¿µèŒœ</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://lucida.me/blog/developer-reading-list/">ç¨‹åºå‘˜è¯»ä¹¦æ¸…å•</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">2å¹´å°çŒ¿äººï¼Œæ²‰æµ¸äºObjective-Cï¼ŒSwift       æ„Ÿå†’JavaScriptï¼Œpython   åæ ‡ï¼šæ­å·   é‚®ç®±ï¼šhuyangjake@163.com</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Jakey_yang</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img src="/img/head.jpg" class="js-avatar" style="width: 100%; height: 100%; opacity: 1;">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Jakey_yang</a></h1>
            </hgroup>
            
            <p class="header-subtitle">æ‰˜èµ·ä¸€ç‰‡ç»¿å¶ï¼Œèµ°å‘æ›´è¿œçš„è¿œæ–¹</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">ä¸»é¡µ</a></li>
                
                    <li><a href="/tags/iOS/">iOS</a></li>
                
                    <li><a href="/tags/éšç¬”/">éšç¬”</a></li>
                
                    <li><a href="/tags/å­¦ä¹ ç¬”è®°/">å­¦ä¹ ç¬”è®°</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/huyangjake" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="jianshu" target="_blank" href="http://www.jianshu.com/u/b64617df987a" title="jianshu">jianshu</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-cookie-in-iOS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/12/cookie-in-iOS/" class="article-date">
      <time datetime="2017-01-12T08:37:13.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Cookie in iOS
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>é¡¹ç›®ä¸­ç”¨åˆ°äº†æœ¬åœ°ç™»å½•å­˜å‚¨cookieï¼Œå†è¿›è¡ŒwebViewè¯·æ±‚æ—¶é—´å¸¦ä¸Šcookieçš„åŠŸèƒ½ã€‚ä¸æ˜¯å¾ˆæ¸…æ™°é€»è¾‘ï¼Œäºæ˜¯å­¦ä¹ äº†è§£äº†ä¸‹iOSä¸­cookieçš„ä½¿ç”¨ï¼Œåšä¸ªå°ç»“ã€‚è·³è¿‡æ¦‚å¿µç›´æ¥çœ‹<a href="#example">ä½¿ç”¨ğŸŒ°</a></p>
<a id="more"></a>
<h3 id="Cookieä»‹ç»"><a href="#Cookieä»‹ç»" class="headerlink" title="Cookieä»‹ç»"></a>Cookieä»‹ç»</h3><p>Cookieåˆ†ç±»ä¸¤ç±»ï¼š</p>
<ul>
<li>ä¼šè¯cookie</li>
<li>æŒä¹…cookie</li>
</ul>
<p>ä¼šè¯ cookie å’ŒæŒä¹… cookie ä¹‹é—´å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬çš„è¿‡æœŸæ—¶é—´ã€‚</p>
<p><strong>cookieå¦‚ä½•å·¥ä½œ</strong></p>
<p>cookie ä¸­åŒ…å«äº†ä¸€ä¸ªç”± åå­— = å€¼ ï¼ˆname=valueï¼‰ è¿™æ ·çš„ä¿¡æ¯æ„æˆçš„ä»»æ„åˆ—è¡¨ï¼Œå¹¶é€šè¿‡ Set-Cookie æˆ– Set-Cookie2 HTTP å“åº”ï¼ˆæ‰© å±•ï¼‰é¦–éƒ¨å°†å…¶è´´åˆ°ç”¨æˆ·èº«ä¸Šå»ã€‚<br><img src="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog" alt="cookieå·¥ä½œ"></p>
<p><strong>cookieç»„æˆ</strong><br>ç°åœ¨ä½¿ç”¨çš„ cookie è§„èŒƒæœ‰ä¸¤ä¸ªä¸åŒçš„ç‰ˆæœ¬ï¼šcookies ç‰ˆæœ¬ 0ï¼ˆæœ‰æ—¶è¢«ç§°ä¸º Netscape cookiesï¼‰ å’Œ cookies ç‰ˆ æœ¬ 1ï¼ˆRFC 2965ï¼‰ ã€‚ cookies ç‰ˆ æœ¬ 1 æ˜¯ å¯¹ cookies ç‰ˆ æœ¬ 0 çš„ æ‰© å±•ï¼Œåº”ç”¨ä¸å¦‚åè€…å¹¿æ³›ã€‚</p>
<ul>
<li><p><strong>cookieç‰ˆæœ¬0</strong></p>
<ul>
<li><p>Set-Cookie é¦–éƒ¨<br>Set-Cookie é¦–éƒ¨æœ‰ä¸€ä¸ªå¼ºåˆ¶æ€§çš„cookieåå’Œcookieå€¼ã€‚åé¢è·Ÿç€å¯é€‰çš„cookie å±æ€§ï¼Œä¸­é—´ç”±åˆ†å·åˆ†éš”ã€‚<br><img src="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/setcookie%E9%A6%96%E9%83%A81.png-blog" alt=""><br><img src="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/setcookie%E9%A6%96%E9%83%A82.png-blog" alt=""></p>
</li>
<li><p>cookie 0é¦–éƒ¨:</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Cookie: session-id=002-1145265-8016838; session-id-time=1007884800</div></pre></td></tr></table></figure>
<ul>
<li><p><strong>cookieç‰ˆæœ¬1</strong> </p>
<ul>
<li><p>Set-Cookie2é¦–éƒ¨<br>è¿™ä¸ªç‰ˆæœ¬ 1 æ ‡å‡†å¼•å…¥äº†Set-Cookie2é¦–éƒ¨å’ŒCookie2é¦–éƒ¨ï¼Œä½†å®ƒä¹Ÿèƒ½äºç‰ˆæœ¬0è¿›è¡Œäº¤äº’æ“ä½œã€‚<br><img src="http://ojam5z7vg.bkt.clouddn.com/coldreading/jpg/setcookie2%E9%A6%96%E9%83%A8.png-blog" alt=""></p>
</li>
<li><p>cookie 1é¦–éƒ¨:</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Cookie: $Version=&quot;1&quot;;</div><div class="line">ID=&quot;29046&quot;; $Domain=&quot;.joes-hardware.com&quot;;</div><div class="line">color=&quot;blue&quot;;</div><div class="line">Coupon=&quot;hammer027&quot;; $Path=&quot;/tools&quot;;</div><div class="line">Coupon=&quot;handvac103&quot;; $Path=&quot;/tools/cordless&quot;</div></pre></td></tr></table></figure>
<h3 id="NSHTTPCookieStorage"><a href="#NSHTTPCookieStorage" class="headerlink" title="NSHTTPCookieStorage"></a>NSHTTPCookieStorage</h3><blockquote>
<p>NSHTTPCookieStorage implements a singleton object (shared instance) that manages storage of cookies. Each cookie is represented by an instance of the NSHTTPCookie class. As a rule, cookies are shared among all applications and are kept in sync across process boundaries. Session cookies (where the cookie objectâ€™s sessionOnly method returns YES) are local to a single process and are not shared.</p>
</blockquote>
<p><code>NSHTTPCookieStorage</code>çš„å®ç°æ˜¯ä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼Œç®¡ç†ç€<code>NSHTTPCookie</code>å¯¹è±¡ï¼Œä¼šè¯cookieçš„ <code>sessionOnly</code>æ–¹æ³•è¿”å›<code>YES</code>å°±ä¸å¯åœ¨è¿›ç¨‹é—´å…±äº«ã€‚</p>
<p>ç„¶è€Œè‹¹æœåœ¨è¿™ä¸ªç±»çš„API Referenceä¸­å†™äº†ä¸€ä¸ª<code>iOS Note</code>ï¼š</p>
<blockquote>
<p>Cookies are not shared among applications in iOS.</p>
</blockquote>
<ul>
<li><p><strong>iOS</strong>ä¸­cookieä¸èƒ½è·¨åº”ç”¨å…±äº«</p>
</li>
<li><p><strong>MacOS</strong>ä¸­<code>sessionOnly</code>ä¸ä¸º<code>YES</code>æ˜¯å¯ä»¥è¢«å…±äº«çš„</p>
</li>
</ul>
<p><code>NSHTTPCookieStorage</code>å¯ä»¥ç®¡ç†cookieçš„æ¥å—ç­–ç•¥ï¼Œåœ¨ä¸€ä¸ªappä¸­æ”¹å˜cookieçš„æ¥å—ç­–ç•¥å°†ä¼šå½±å“å…¶ä»–æ­£åœ¨è¿è¡Œçš„appçš„cookieæ¥å—ç­–ç•¥ã€‚</p>
<p>å½“å…¶ä»–çš„appä¿®æ”¹äº†cookieå­˜å‚¨ æˆ–è€… cookieæ¥å—ç­–ç•¥ï¼ŒNSHTTPCookieStorageå°†ä¼šç»™appå‘é€<code>NSHTTPCookieManagerCookiesChangedNotification</code>æˆ–è€…<code>NSHTTPCookieStorageAcceptPolicyChangedNotification</code>é€šçŸ¥</p>
<p><strong>Cookieæ¥å—ç­–ç•¥ï¼š</strong><br><code>NSHTTPCookieAcceptPolicy</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSUInteger</span>, <span class="built_in">NSHTTPCookieAcceptPolicy</span>) &#123;</div><div class="line">    <span class="built_in">NSHTTPCookieAcceptPolicyAlways</span>,<span class="comment">//é»˜è®¤ç­–ç•¥ï¼Œæ¥å—æ‰€æœ‰çš„cookies</span></div><div class="line">    <span class="built_in">NSHTTPCookieAcceptPolicyNever</span>,<span class="comment">//æ‹’ç»æ‰€æœ‰çš„cookies</span></div><div class="line">    <span class="built_in">NSHTTPCookieAcceptPolicyOnlyFromMainDocumentDomain</span><span class="comment">//åªä»ä¸»æ–‡æ¡£åŸŸåæ¥å—cookies</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="NSHTTPCookie"><a href="#NSHTTPCookie" class="headerlink" title="NSHTTPCookie"></a>NSHTTPCookie</h3><blockquote>
<p>An NSHTTPCookie object represents an HTTP cookie. It is an immutable object, initialized from a dictionary containing the cookie attributes.</p>
</blockquote>
<p><code>NSHTTPCookie</code>å¯¹è±¡ä¸­åŒ…å«äº†HTTP çš„cookieå¯¹è±¡ï¼Œä»åŒ…å«cookieå­—æ®µçš„å­—å…¸åˆå§‹åŒ–åˆ›å»ºã€‚</p>
<blockquote>
<p>The NSHTTPCookie class encapsulates a cookie, providing accessors for many of the common cookie attributes. This class also provides methods to convert HTTP cookie headers to NSHTTPCookie instances and convert an NSHTTPCookie instance to headers suitable for use with an NSURLRequest object. The URL loading system automatically sends any stored cookies appropriate for an NSURLRequest object unless the request specifies not to send cookies. Likewise, cookies returned in an NSURLResponse object are accepted in accordance with the current cookie acceptance policy.</p>
</blockquote>
<p><code>NSHTTPCookie</code>ç±»å°è£…äº†ä¸€ä¸ªHTTP Cookieï¼Œå¹¶æä¾›å¸¸è§çš„Cookieå±æ€§è®¿é—®æ¥å£ã€‚<code>NSHTTPCookie</code>å¯ä»¥è½¬æ¢HTTP CookieæˆNSHTTPCookieså¯¹è±¡ï¼Œå¹¶å¯ä»¥å°†NSHTTPCookieå¯¹è±¡è½¬åŒ–ä¸ºNSURLRequestå¯¹è±¡çš„è¯·æ±‚å¤´éƒ¨åˆ†ã€‚URL loading system ä¼šè‡ªåŠ¨åœ°ç»™NSURLRequestå¯¹è±¡å‘é€å­˜å‚¨çš„cookieï¼Œé™¤éNSURLRequestå¯¹è±¡æŒ‡å®šä¸éœ€è¦ä¼ cookieï¼ŒåŒæ ·cookieåœ¨NSURLRequestä¸­è¿”å›ä¹ŸæŒ‰ç…§å½“å‰çš„cookieæ¥å—ç­–ç•¥æ¥æ”¶ã€‚</p>
<h3 id="Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°"><a href="#Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°" class="headerlink" title="Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°"></a><span id="example">Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°</span></h3><p>Cookieç”Ÿæˆçš„æœ‰ä¸¤ä¸ªé€”å¾„ï¼Œä¸€ä¸ªæ˜¯è®¿é—®ä¸€ä¸ªç½‘é¡µï¼Œè¿™ä¸ªç½‘é¡µè¿”å›çš„HTTP Headerä¸­æœ‰Set-CookieæŒ‡ä»¤è¿›è¡ŒCookieçš„è®¾ç½®ï¼Œè¿™é‡ŒCookieçš„æœ¬åœ°å¤„ç†å…¶å®æ˜¯ç”±WebKitè¿›è¡Œçš„ï¼›è¿˜æœ‰ä¸€ç§é€”å¾„å°±æ˜¯å®¢æˆ·ç«¯é€šè¿‡ä»£ç æ‰‹åŠ¨è®¾ç½®Cookieã€‚</p>
<p>å€¼å¾—æ³¨æ„<a href="http://geeklu.com/2013/04/ios-cookie/" target="_blank" rel="external">iOS Cookieä½¿ç”¨</a>æåˆ°ï¼š<br>NSHTTPCookieStorageå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼ŒsetCookieæˆ–è€…deleteCookieåå¹¶ä¸ä¼šç«‹å³è¿›è¡ŒæŒä¹…åŒ–ï¼Œè€Œæ˜¯æœ‰å‡ ç§’çš„å»¶è¿Ÿã€‚ä¸ºäº†å¯é æ€§ï¼Œæˆ‘ä»¬ä¼šå°†cookieä¿¡æ¯ä¿å­˜ä¸€ä»½åˆ°User Defaultsï¼Œéœ€è¦ç”¨çš„æ—¶å€™loadè¿›æ¥ã€‚</p>
<ul>
<li>å®¢æˆ·ç«¯æ‰‹åŠ¨è®¾ç½®Cookie</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSMutableDictionary</span> *cookieProperties = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">[cookieProperties setObject:<span class="string">@"name"</span> forKey:<span class="built_in">NSHTTPCookieName</span>];</div><div class="line">[cookieProperties setObject:<span class="string">@"value"</span> forKey:<span class="built_in">NSHTTPCookieValue</span>];</div><div class="line">[cookieProperties setObject:<span class="string">@"www.taobao.com"</span> forKey:<span class="built_in">NSHTTPCookieDomain</span>];</div><div class="line">[cookieProperties setObject:<span class="string">@"/"</span> forKey:<span class="built_in">NSHTTPCookiePath</span>];</div><div class="line">[cookieProperties setObject:<span class="string">@"0"</span> forKey:<span class="built_in">NSHTTPCookieVersion</span>];</div><div class="line">[cookieProperties setObject:<span class="string">@"30000"</span> forKey:<span class="built_in">NSHTTPCookieMaximumAge</span>];</div><div class="line"><span class="built_in">NSHTTPCookie</span> *cookie = [<span class="built_in">NSHTTPCookie</span> cookieWithProperties:cookieProperties];</div><div class="line">[[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] setCookie:cookie];</div><div class="line"><span class="comment">//åˆ é™¤cookieçš„æ–¹æ³•ä¸ºdeleteCookie:</span></div></pre></td></tr></table></figure>
<p>åœ¨é€šè¿‡setCookie:è¿›è¡Œè®¾ç½®cookieçš„æ—¶å€™ï¼Œä¼šè¦†ç›–name,domain,pathéƒ½ç›¸åŒçš„cookieçš„ã€‚<br>è‡³äºcookieä¼šä¸ä¼šæŒä¹…åŒ–åˆ°cookieæ–‡ä»¶ä¸­ä¸»è¦çœ‹è¿™ä¸ªcookieçš„ç”Ÿå‘½å‘¨æœŸï¼Œå’ŒMax-Ageæˆ–è€…Expiresæœ‰å…³ã€‚</p>
<ul>
<li>é€šè¿‡HTTP Headerçš„Set-Cookieåè€…Set-Cookie2è®¾ç½®Cookie</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">//è¯·æ±‚ä¸€ä¸ªç½‘å€ï¼Œå³å¯åˆ†é…åˆ°cookie</span></div><div class="line">    AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</div><div class="line">    manager.responseSerializer = [AFJSONResponseSerializer new];</div><div class="line">    [manager GET:urlString parameters:<span class="literal">nil</span> success:^(AFHTTPRequestOperation *operation, <span class="keyword">id</span> responseObject) &#123;</div><div class="line"> </div><div class="line">        <span class="comment">//è·å–cookie</span></div><div class="line">        <span class="built_in">NSArray</span> *cookies = [[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] cookies];</div><div class="line">        </div><div class="line">        <span class="comment">/*</span></div><div class="line"><span class="comment">         * æŠŠcookieè¿›è¡Œå½’æ¡£å¹¶è½¬æ¢ä¸ºNSDataç±»å‹</span></div><div class="line"><span class="comment">         * æ³¨æ„ï¼šcookieä¸èƒ½ç›´æ¥è½¬æ¢ä¸ºNSDataç±»å‹ï¼Œå¦åˆ™ä¼šå¼•èµ·å´©æºƒã€‚</span></div><div class="line"><span class="comment">         * æ‰€ä»¥å…ˆè¿›è¡Œå½’æ¡£å¤„ç†ï¼Œå†è½¬æ¢ä¸ºData</span></div><div class="line"><span class="comment">         */</span></div><div class="line">        <span class="built_in">NSData</span> *cookiesData = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject: [[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] cookies]];</div><div class="line"> </div><div class="line">        <span class="comment">//å­˜å‚¨å½’æ¡£åçš„cookie</span></div><div class="line">        <span class="built_in">NSUserDefaults</span> *userDefaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</div><div class="line">        [userDefaults setObject: cookiesData forKey: <span class="string">@"cookie"</span>];</div><div class="line">        [<span class="keyword">self</span> setCookie];</div><div class="line">        </div><div class="line">    &#125; failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span> *error) &#123;</div><div class="line"> </div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    - (<span class="keyword">void</span>)setCookie</div><div class="line">&#123;</div><div class="line">    <span class="comment">//å–å‡ºä¿å­˜çš„cookie</span></div><div class="line">    <span class="built_in">NSUserDefaults</span> *userDefaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</div><div class="line"> </div><div class="line">    <span class="comment">//å¯¹å–å‡ºçš„cookieè¿›è¡Œåå½’æ¡£å¤„ç†</span></div><div class="line">    <span class="built_in">NSArray</span> *cookies = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:[userDefaults objectForKey:<span class="string">@"cookie"</span>]];</div><div class="line"> </div><div class="line">    <span class="keyword">if</span> (cookies) &#123;</div><div class="line">        <span class="comment">//è®¾ç½®cookie</span></div><div class="line">        <span class="built_in">NSHTTPCookieStorage</span> *cookieStorage = [<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">id</span> cookie <span class="keyword">in</span> cookies) &#123;</div><div class="line">            [cookieStorage setCookie:(<span class="built_in">NSHTTPCookie</span> *)cookie];</div><div class="line">        &#125;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"æ— cookie"</span>);</div><div class="line">   &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://developer.apple.com/reference/foundation/nshttpcookiestorage" target="_blank" rel="external">NSHTTPCookieStorage</a></p>
<p><a href="https://developer.apple.com/library/prerelease/content/documentation/Cocoa/Conceptual/URLLoadingSystem/CookiesandCustomProtocols/CookiesandCustomProtocols.html" target="_blank" rel="external">Cookies and Custom Protocols</a></p>
<p><a href="http://geeklu.com/2013/04/ios-cookie/" target="_blank" rel="external">http://geeklu.com/2013/04/ios-cookie/</a></p>
<p><a href="http://blog.it985.com/11248.html" target="_blank" rel="external">http://blog.it985.com/11248.html</a></p>
<p><em>ã€ŠHTTP æƒå¨æŒ‡å—ã€‹ç¬¬11ç«  å®¢æˆ·ç«¯è¯†åˆ«ä¸cookieæœºåˆ¶</em></p>
<h3 id="ç›¸å…³å¯¼å¼•"><a href="#ç›¸å…³å¯¼å¼•" class="headerlink" title="ç›¸å…³å¯¼å¼•"></a>ç›¸å…³å¯¼å¼•</h3><p>è§£å†³UIWebViewå’ŒWKWebViewä¹‹é—´çš„cookieå…±äº«é—®é¢˜ï¼š</p>
<p><a href="https://fengqiangboy.com/14611518603473.html" target="_blank" rel="external">iOSå¼€å‘-æ‰“é€šUIWebViewå’ŒWKWebViewçš„Cookie</a></p>

      
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2017/01/12/cookie-in-iOS/">Cookie in iOS</a></p>
        <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—® Jakey_yang çš„ä¸ªäººåšå®¢">Jakey_yang</a></p>
        <p><span>å‘å¸ƒæ—¶é—´:</span>2017å¹´01æœˆ12æ—¥ - 16æ—¶37åˆ†</p>
        <p><span>æœ€åæ›´æ–°:</span>2017å¹´09æœˆ13æ—¥ - 22æ—¶31åˆ†</p>
        <p>
            <span>åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2017/01/12/cookie-in-iOS/" title="Cookie in iOS">http://jake.gift/2017/01/12/cookie-in-iOS/</a>
            <span class="copy-path" data-clipboard-text="åŸæ–‡: http://jake.gift/2017/01/12/cookie-in-iOS/ã€€ã€€ä½œè€…: Jakey_yang" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="ä¸­å›½å¤§é™† (CC BY-NC-SA 3.0 CN)" target = "_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 3.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2017/01/19/Swiftçš„weak-unowned-unowned-unsafe/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Swiftçš„weak Unowned Unowned(unsafe)
        
      </div>
    </a>
  
  
    <a href="/2017/01/10/Objective-Cä¸­çš„è£…é¥°æ¨¡å¼/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Objective-Cä¸­çš„è£…é¥°æ¨¡å¼</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#èƒŒæ™¯"><span class="toc-number">1.</span> <span class="toc-text">èƒŒæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookieä»‹ç»"><span class="toc-number">2.</span> <span class="toc-text">Cookieä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NSHTTPCookieStorage"><span class="toc-number">3.</span> <span class="toc-text">NSHTTPCookieStorage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NSHTTPCookie"><span class="toc-number">4.</span> <span class="toc-text">NSHTTPCookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°"><span class="toc-number">5.</span> <span class="toc-text">Cookieä½¿ç”¨ğŸ’ªä¸ªğŸŒ°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‚è€ƒ"><span class="toc-number">6.</span> <span class="toc-text">å‚è€ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç›¸å…³å¯¼å¼•"><span class="toc-number">7.</span> <span class="toc-text">ç›¸å…³å¯¼å¼•</span></a></li></ol>
</div>
<input type="button" id="tocButton" value="éšè—ç›®å½•"  title="ç‚¹å‡»æŒ‰é’®éšè—æˆ–è€…æ˜¾ç¤ºæ–‡ç« ç›®å½•">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "éšè—ç›®å½•";
    var valueShow = "æ˜¾ç¤ºç›®å½•";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="åˆ†äº«åˆ°QQå¥½å‹"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="åˆ†äº«åˆ°Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="åˆ†äº«åˆ°Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="åˆ†äº«åˆ°linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="åˆ†äº«åˆ°å¤åˆ¶ç½‘å€"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <div id="gitments"></div>
<script src="/js/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
      id: window.location.pathname,
      owner: 'huyangjake',
      repo: 'BlogComments',
      oauth: {
        client_id: '465fc53423145e17a447',
        client_secret: '4c8103f9a678b2e4546912bd02111ddf33c49f24',
      },
    })
    gitment.render('gitments')
</script>
    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/01/19/Swiftçš„weak-unowned-unowned-unsafe/" title="ä¸Šä¸€ç¯‡: Swiftçš„weak Unowned Unowned(unsafe)">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="æ–‡ç« åˆ—è¡¨"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2017/01/10/Objective-Cä¸­çš„è£…é¥°æ¨¡å¼/" title="ä¸‹ä¸€ç¯‡: Objective-Cä¸­çš„è£…é¥°æ¨¡å¼">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/07/19/iOSéšå¼åŠ¨ç”»/">iOSéšå¼åŠ¨ç”»</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/17/Hiï¼CALayeræˆ‘ä»¬èŠèŠ/">Hiï¼CALayeræˆ‘ä»¬èŠèŠ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/14/è‡ªå®šä¹‰NSURLProtocolå®ç°UIWebViewç¼“å­˜æœºåˆ¶/">è‡ªå®šä¹‰NSURLProtocolå®ç°UIWebViewç¼“å­˜æœºåˆ¶</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/03/å°ç¨‹åºè§†å›¾å±‚/">å°ç¨‹åºè§†å›¾å±‚</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/03/å°ç¨‹åºé€»è¾‘å±‚/">å°ç¨‹åºé€»è¾‘å±‚</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/03/å¾®ä¿¡å°ç¨‹åºåˆè¯†/">å¾®ä¿¡å°ç¨‹åºåˆè¯†</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/25/Apple-debugging-ä½¿ç”¨LLDBæ›¿æ¢æ–¹æ³•ä¸ºè‡ªå®šä¹‰çš„block/">Apple Debugging---ä½¿ç”¨LLDBæ›¿æ¢æ–¹æ³•ä¸ºè‡ªå®šä¹‰çš„block</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/23/Apple-Debugging-å¼€å§‹ä½¿ç”¨LLDB/">Apple Debugging---å¼€å§‹ä½¿ç”¨LLDB</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/11/æ–¹å‘/">æ–¹å‘</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/03/ä¸€æ¬¡ç‰ˆæœ¬å‘å¸ƒçš„å¯ç¤º/">ä¸€æ¬¡ç‰ˆæœ¬å‘å¸ƒçš„å¯ç¤º</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/28/å¤šç¡è§‰å¤šè¯»ä¹¦/">å¤šç¡è§‰å¤šè¯»ä¹¦</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/20/è§£è¯»Objective-Cçš„NSDictionary/">è§£è¯»Objective-Cçš„NSDictionary</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/29/removeFromSuperViewæµ…è°ˆ/">removeFromSuperViewæµ…è°ˆ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/H5è·³è½¬Nativeè·¯ç”±æœºåˆ¶çš„æ¢ç´¢/">H5è·³è½¬Nativeè·¯ç”±æœºåˆ¶çš„æ¢ç´¢</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/08/JSPatché‡ä¸ŠSwift/">JSPatché‡ä¸ŠSwift</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/20/Swiftå’ŒObjective-Cçš„æ•°ç»„è½¬æ¢/">Swiftå’ŒObjective-Cçš„æ•°ç»„è½¬æ¢</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/19/Using-Swift-with-Cocoa-and-Objective-Cç¬”è®°-ONE/">Using Swift With Cocoa and Objective-Cç¬”è®°_ONE</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/19/Swiftçš„weak-unowned-unowned-unsafe/">Swiftçš„weak Unowned Unowned(unsafe)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/12/cookie-in-iOS/">Cookie in iOS</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/10/Objective-Cä¸­çš„è£…é¥°æ¨¡å¼/">Objective-Cä¸­çš„è£…é¥°æ¨¡å¼</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/04/ç»§æ‰¿ä¸ä»£ç†-Decorate-Pattern/">ç»§æ‰¿ä¸ä»£ç†--Decorate Pattern</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/29/çŸ¥è¯†ä¼ é€é—¨/">çŸ¥è¯†ä¼ é€é—¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/23/JSPatchå­¦ä¹ åˆ†äº«/">JSPatchå­¦ä¹ åˆ†äº«</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/19/Objective-C-isaæŒ‡é’ˆ/">Objective-C IsaæŒ‡é’ˆ</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/19/JSPatchå­¦ä¹ ç¬”è®°-äºŒ/">JSPatchå­¦ä¹ ç¬”è®°(äºŒ)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/19/JSPatchå­¦ä¹ ç¬”è®°-ä¸€/">JSPatchå­¦ä¹ ç¬”è®°(ä¸€)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/16/iOS10æ–°ç‰¹æ€§é€‚é…æ€»ç»“/">iOS10æ–°ç‰¹æ€§é€‚é…æ€»ç»“</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2017 Jakey_yang
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 109;
            var backgroundimg = "url(/background/bg-" + backgroundnum +".jpg)";
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>




	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?3fdf633934fb9f62ceee0538975b8820";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>