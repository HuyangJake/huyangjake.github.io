<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.yangjie.hu","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null,"activeClass":"disqus"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ËÉåÊôØÈ°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜÊú¨Âú∞ÁôªÂΩïÂ≠òÂÇ®cookieÔºåÂÜçËøõË°åwebViewËØ∑Ê±ÇÊó∂Èó¥Â∏¶‰∏äcookieÁöÑÂäüËÉΩ„ÄÇ‰∏çÊòØÂæàÊ∏ÖÊô∞ÈÄªËæëÔºå‰∫éÊòØÂ≠¶‰π†‰∫ÜËß£‰∫Ü‰∏ãiOS‰∏≠cookieÁöÑ‰ΩøÁî®ÔºåÂÅö‰∏™Â∞èÁªì„ÄÇË∑≥ËøáÊ¶ÇÂøµÁõ¥Êé•Áúã‰ΩøÁî®üå∞">
<meta name="keywords" content="iOS">
<meta property="og:type" content="article">
<meta property="og:title" content="Cookie in iOS">
<meta property="og:url" content="http://www.yangjie.hu/2017/01/12/cookie-in-iOS/index.html">
<meta property="og:site_name" content="ColdCode">
<meta property="og:description" content="ËÉåÊôØÈ°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜÊú¨Âú∞ÁôªÂΩïÂ≠òÂÇ®cookieÔºåÂÜçËøõË°åwebViewËØ∑Ê±ÇÊó∂Èó¥Â∏¶‰∏äcookieÁöÑÂäüËÉΩ„ÄÇ‰∏çÊòØÂæàÊ∏ÖÊô∞ÈÄªËæëÔºå‰∫éÊòØÂ≠¶‰π†‰∫ÜËß£‰∫Ü‰∏ãiOS‰∏≠cookieÁöÑ‰ΩøÁî®ÔºåÂÅö‰∏™Â∞èÁªì„ÄÇË∑≥ËøáÊ¶ÇÂøµÁõ¥Êé•Áúã‰ΩøÁî®üå∞">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://qiniu.huyangjie.cn/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog">
<meta property="og:image" content="http://qiniu.huyangjie.cn/coldreading/jpg/setcookie%E9%A6%96%E9%83%A81.png-blog">
<meta property="og:image" content="http://qiniu.huyangjie.cn/coldreading/jpg/setcookie%E9%A6%96%E9%83%A82.png-blog">
<meta property="og:image" content="http://qiniu.huyangjie.cn/coldreading/jpg/setcookie2%E9%A6%96%E9%83%A8.png-blog">
<meta property="og:updated_time" content="2019-09-10T07:24:08.560Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cookie in iOS">
<meta name="twitter:description" content="ËÉåÊôØÈ°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜÊú¨Âú∞ÁôªÂΩïÂ≠òÂÇ®cookieÔºåÂÜçËøõË°åwebViewËØ∑Ê±ÇÊó∂Èó¥Â∏¶‰∏äcookieÁöÑÂäüËÉΩ„ÄÇ‰∏çÊòØÂæàÊ∏ÖÊô∞ÈÄªËæëÔºå‰∫éÊòØÂ≠¶‰π†‰∫ÜËß£‰∫Ü‰∏ãiOS‰∏≠cookieÁöÑ‰ΩøÁî®ÔºåÂÅö‰∏™Â∞èÁªì„ÄÇË∑≥ËøáÊ¶ÇÂøµÁõ¥Êé•Áúã‰ΩøÁî®üå∞">
<meta name="twitter:image" content="http://qiniu.huyangjie.cn/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog">

<link rel="canonical" href="http://www.yangjie.hu/2017/01/12/cookie-in-iOS/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>Cookie in iOS | ColdCode</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130755566-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-130755566-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3fdf633934fb9f62ceee0538975b8820";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ColdCode</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ÊâòËµ∑‰∏ÄÁâáÁªøÂè∂ÔºåËµ∞ÂêëÊõ¥ËøúÁöÑËøúÊñπ</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://www.yangjie.hu/2017/01/12/cookie-in-iOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Jakey">
      <meta itemprop="description" content="ÊâòËµ∑‰∏ÄÁâáÁªøÂè∂ÁöÑ iOS ‰∏¥Êó∂Â∑•">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ColdCode">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Cookie in iOS
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-12 16:37:13" itemprop="dateCreated datePublished" datetime="2017-01-12T16:37:13+08:00">2017-01-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-09-10 15:24:08" itemprop="dateModified" datetime="2019-09-10T15:24:08+08:00">2019-09-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ÁåøÁåøÂÖªÊàêËÆ∞/" itemprop="url" rel="index"><span itemprop="name">ÁåøÁåøÂÖªÊàêËÆ∞</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/01/12/cookie-in-iOS/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/12/cookie-in-iOS/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="ËÉåÊôØ"><a href="#ËÉåÊôØ" class="headerlink" title="ËÉåÊôØ"></a>ËÉåÊôØ</h3><p>È°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜÊú¨Âú∞ÁôªÂΩïÂ≠òÂÇ®cookieÔºåÂÜçËøõË°åwebViewËØ∑Ê±ÇÊó∂Èó¥Â∏¶‰∏äcookieÁöÑÂäüËÉΩ„ÄÇ‰∏çÊòØÂæàÊ∏ÖÊô∞ÈÄªËæëÔºå‰∫éÊòØÂ≠¶‰π†‰∫ÜËß£‰∫Ü‰∏ãiOS‰∏≠cookieÁöÑ‰ΩøÁî®ÔºåÂÅö‰∏™Â∞èÁªì„ÄÇË∑≥ËøáÊ¶ÇÂøµÁõ¥Êé•Áúã<a href="#example">‰ΩøÁî®üå∞</a></p>
<a id="more"></a>
<h3 id="Cookie‰ªãÁªç"><a href="#Cookie‰ªãÁªç" class="headerlink" title="Cookie‰ªãÁªç"></a>Cookie‰ªãÁªç</h3><p>CookieÂàÜÁ±ª‰∏§Á±ªÔºö</p>
<ul>
<li>‰ºöËØùcookie</li>
<li>ÊåÅ‰πÖcookie</li>
</ul>
<p>‰ºöËØù cookie ÂíåÊåÅ‰πÖ cookie ‰πãÈó¥ÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±ÊòØÂÆÉ‰ª¨ÁöÑËøáÊúüÊó∂Èó¥„ÄÇ</p>
<p><strong>cookieÂ¶Ç‰ΩïÂ∑•‰Ωú</strong></p>
<p>cookie ‰∏≠ÂåÖÂê´‰∫Ü‰∏Ä‰∏™Áî± ÂêçÂ≠ó = ÂÄº Ôºàname=valueÔºâ ËøôÊ†∑ÁöÑ‰ø°ÊÅØÊûÑÊàêÁöÑ‰ªªÊÑèÂàóË°®ÔºåÂπ∂ÈÄöËøá Set-Cookie Êàñ Set-Cookie2 HTTP ÂìçÂ∫îÔºàÊâ© Â±ïÔºâÈ¶ñÈÉ®Â∞ÜÂÖ∂Ë¥¥Âà∞Áî®Êà∑Ë∫´‰∏äÂéª„ÄÇ<br><img src="http://qiniu.huyangjie.cn/coldreading/jpg/cookie%E5%B7%A5%E4%BD%9C.png-blog" alt="cookieÂ∑•‰Ωú"></p>
<p><strong>cookieÁªÑÊàê</strong><br>Áé∞Âú®‰ΩøÁî®ÁöÑ cookie ËßÑËåÉÊúâ‰∏§‰∏™‰∏çÂêåÁöÑÁâàÊú¨Ôºöcookies ÁâàÊú¨ 0ÔºàÊúâÊó∂Ë¢´Áß∞‰∏∫ Netscape cookiesÔºâ Âíå cookies Áâà Êú¨ 1ÔºàRFC 2965Ôºâ „ÄÇ cookies Áâà Êú¨ 1 ÊòØ ÂØπ cookies Áâà Êú¨ 0 ÁöÑ Êâ© Â±ïÔºåÂ∫îÁî®‰∏çÂ¶ÇÂêéËÄÖÂπøÊ≥õ„ÄÇ</p>
<ul>
<li><p><strong>cookieÁâàÊú¨0</strong></p>
<ul>
<li><p>Set-Cookie È¶ñÈÉ®<br>Set-Cookie È¶ñÈÉ®Êúâ‰∏Ä‰∏™Âº∫Âà∂ÊÄßÁöÑcookieÂêçÂíåcookieÂÄº„ÄÇÂêéÈù¢Ë∑üÁùÄÂèØÈÄâÁöÑcookie Â±ûÊÄßÔºå‰∏≠Èó¥Áî±ÂàÜÂè∑ÂàÜÈöî„ÄÇ<br><img src="http://qiniu.huyangjie.cn/coldreading/jpg/setcookie%E9%A6%96%E9%83%A81.png-blog" alt><br><img src="http://qiniu.huyangjie.cn/coldreading/jpg/setcookie%E9%A6%96%E9%83%A82.png-blog" alt></p>
</li>
<li><p>cookie 0È¶ñÈÉ®:</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie: session-id=002-1145265-8016838; session-id-time=1007884800</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>cookieÁâàÊú¨1</strong> </p>
<ul>
<li><p>Set-Cookie2È¶ñÈÉ®<br>Ëøô‰∏™ÁâàÊú¨ 1 Ê†áÂáÜÂºïÂÖ•‰∫ÜSet-Cookie2È¶ñÈÉ®ÂíåCookie2È¶ñÈÉ®Ôºå‰ΩÜÂÆÉ‰πüËÉΩ‰∫éÁâàÊú¨0ËøõË°å‰∫§‰∫íÊìç‰Ωú„ÄÇ<br><img src="http://qiniu.huyangjie.cn/coldreading/jpg/setcookie2%E9%A6%96%E9%83%A8.png-blog" alt></p>
</li>
<li><p>cookie 1È¶ñÈÉ®:</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Cookie: $Version=&quot;1&quot;;</span><br><span class="line">ID=&quot;29046&quot;; $Domain=&quot;.joes-hardware.com&quot;;</span><br><span class="line">color=&quot;blue&quot;;</span><br><span class="line">Coupon=&quot;hammer027&quot;; $Path=&quot;/tools&quot;;</span><br><span class="line">Coupon=&quot;handvac103&quot;; $Path=&quot;/tools/cordless&quot;</span><br></pre></td></tr></table></figure>
<h3 id="NSHTTPCookieStorage"><a href="#NSHTTPCookieStorage" class="headerlink" title="NSHTTPCookieStorage"></a>NSHTTPCookieStorage</h3><blockquote>
<p>NSHTTPCookieStorage implements a singleton object (shared instance) that manages storage of cookies. Each cookie is represented by an instance of the NSHTTPCookie class. As a rule, cookies are shared among all applications and are kept in sync across process boundaries. Session cookies (where the cookie object‚Äôs sessionOnly method returns YES) are local to a single process and are not shared.</p>
</blockquote>
<p><code>NSHTTPCookieStorage</code>ÁöÑÂÆûÁé∞ÊòØ‰∏Ä‰∏™Âçï‰æãÂØπË±°ÔºåÁÆ°ÁêÜÁùÄ<code>NSHTTPCookie</code>ÂØπË±°Ôºå‰ºöËØùcookieÁöÑ <code>sessionOnly</code>ÊñπÊ≥ïËøîÂõû<code>YES</code>Â∞±‰∏çÂèØÂú®ËøõÁ®ãÈó¥ÂÖ±‰∫´„ÄÇ</p>
<p>ÁÑ∂ËÄåËãπÊûúÂú®Ëøô‰∏™Á±ªÁöÑAPI Reference‰∏≠ÂÜô‰∫Ü‰∏Ä‰∏™<code>iOS Note</code>Ôºö</p>
<blockquote>
<p>Cookies are not shared among applications in iOS.</p>
</blockquote>
<ul>
<li><p><strong>iOS</strong>‰∏≠cookie‰∏çËÉΩË∑®Â∫îÁî®ÂÖ±‰∫´</p>
</li>
<li><p><strong>MacOS</strong>‰∏≠<code>sessionOnly</code>‰∏ç‰∏∫<code>YES</code>ÊòØÂèØ‰ª•Ë¢´ÂÖ±‰∫´ÁöÑ</p>
</li>
</ul>
<p><code>NSHTTPCookieStorage</code>ÂèØ‰ª•ÁÆ°ÁêÜcookieÁöÑÊé•ÂèóÁ≠ñÁï•ÔºåÂú®‰∏Ä‰∏™app‰∏≠ÊîπÂèòcookieÁöÑÊé•ÂèóÁ≠ñÁï•Â∞Ü‰ºöÂΩ±ÂìçÂÖ∂‰ªñÊ≠£Âú®ËøêË°åÁöÑappÁöÑcookieÊé•ÂèóÁ≠ñÁï•„ÄÇ</p>
<p>ÂΩìÂÖ∂‰ªñÁöÑapp‰øÆÊîπ‰∫ÜcookieÂ≠òÂÇ® ÊàñËÄÖ cookieÊé•ÂèóÁ≠ñÁï•ÔºåNSHTTPCookieStorageÂ∞Ü‰ºöÁªôappÂèëÈÄÅ<code>NSHTTPCookieManagerCookiesChangedNotification</code>ÊàñËÄÖ<code>NSHTTPCookieStorageAcceptPolicyChangedNotification</code>ÈÄöÁü•</p>
<p><strong>CookieÊé•ÂèóÁ≠ñÁï•Ôºö</strong><br><code>NSHTTPCookieAcceptPolicy</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSUInteger</span>, <span class="built_in">NSHTTPCookieAcceptPolicy</span>) &#123;</span><br><span class="line">    <span class="built_in">NSHTTPCookieAcceptPolicyAlways</span>,<span class="comment">//ÈªòËÆ§Á≠ñÁï•ÔºåÊé•ÂèóÊâÄÊúâÁöÑcookies</span></span><br><span class="line">    <span class="built_in">NSHTTPCookieAcceptPolicyNever</span>,<span class="comment">//ÊãíÁªùÊâÄÊúâÁöÑcookies</span></span><br><span class="line">    <span class="built_in">NSHTTPCookieAcceptPolicyOnlyFromMainDocumentDomain</span><span class="comment">//Âè™‰ªé‰∏ªÊñáÊ°£ÂüüÂêçÊé•Âèócookies</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="NSHTTPCookie"><a href="#NSHTTPCookie" class="headerlink" title="NSHTTPCookie"></a>NSHTTPCookie</h3><blockquote>
<p>An NSHTTPCookie object represents an HTTP cookie. It is an immutable object, initialized from a dictionary containing the cookie attributes.</p>
</blockquote>
<p><code>NSHTTPCookie</code>ÂØπË±°‰∏≠ÂåÖÂê´‰∫ÜHTTP ÁöÑcookieÂØπË±°Ôºå‰ªéÂåÖÂê´cookieÂ≠óÊÆµÁöÑÂ≠óÂÖ∏ÂàùÂßãÂåñÂàõÂª∫„ÄÇ</p>
<blockquote>
<p>The NSHTTPCookie class encapsulates a cookie, providing accessors for many of the common cookie attributes. This class also provides methods to convert HTTP cookie headers to NSHTTPCookie instances and convert an NSHTTPCookie instance to headers suitable for use with an NSURLRequest object. The URL loading system automatically sends any stored cookies appropriate for an NSURLRequest object unless the request specifies not to send cookies. Likewise, cookies returned in an NSURLResponse object are accepted in accordance with the current cookie acceptance policy.</p>
</blockquote>
<p><code>NSHTTPCookie</code>Á±ªÂ∞ÅË£Ö‰∫Ü‰∏Ä‰∏™HTTP CookieÔºåÂπ∂Êèê‰æõÂ∏∏ËßÅÁöÑCookieÂ±ûÊÄßËÆøÈóÆÊé•Âè£„ÄÇ<code>NSHTTPCookie</code>ÂèØ‰ª•ËΩ¨Êç¢HTTP CookieÊàêNSHTTPCookiesÂØπË±°ÔºåÂπ∂ÂèØ‰ª•Â∞ÜNSHTTPCookieÂØπË±°ËΩ¨Âåñ‰∏∫NSURLRequestÂØπË±°ÁöÑËØ∑Ê±ÇÂ§¥ÈÉ®ÂàÜ„ÄÇURL loading system ‰ºöËá™Âä®Âú∞ÁªôNSURLRequestÂØπË±°ÂèëÈÄÅÂ≠òÂÇ®ÁöÑcookieÔºåÈô§ÈùûNSURLRequestÂØπË±°ÊåáÂÆö‰∏çÈúÄË¶Å‰º†cookieÔºåÂêåÊ†∑cookieÂú®NSURLRequest‰∏≠ËøîÂõû‰πüÊåâÁÖßÂΩìÂâçÁöÑcookieÊé•ÂèóÁ≠ñÁï•Êé•Êî∂„ÄÇ</p>
<h3 id="Cookie‰ΩøÁî®üí™‰∏™üå∞"><a href="#Cookie‰ΩøÁî®üí™‰∏™üå∞" class="headerlink" title="Cookie‰ΩøÁî®üí™‰∏™üå∞"></a><span id="example">Cookie‰ΩøÁî®üí™‰∏™üå∞</span></h3><p>CookieÁîüÊàêÁöÑÊúâ‰∏§‰∏™ÈÄîÂæÑÔºå‰∏Ä‰∏™ÊòØËÆøÈóÆ‰∏Ä‰∏™ÁΩëÈ°µÔºåËøô‰∏™ÁΩëÈ°µËøîÂõûÁöÑHTTP Header‰∏≠ÊúâSet-CookieÊåá‰ª§ËøõË°åCookieÁöÑËÆæÁΩÆÔºåËøôÈáåCookieÁöÑÊú¨Âú∞Â§ÑÁêÜÂÖ∂ÂÆûÊòØÁî±WebKitËøõË°åÁöÑÔºõËøòÊúâ‰∏ÄÁßçÈÄîÂæÑÂ∞±ÊòØÂÆ¢Êà∑Á´ØÈÄöËøá‰ª£Á†ÅÊâãÂä®ËÆæÁΩÆCookie„ÄÇ</p>
<p>ÂÄºÂæóÊ≥®ÊÑè<a href="http://geeklu.com/2013/04/ios-cookie/" target="_blank" rel="noopener">iOS Cookie‰ΩøÁî®</a>ÊèêÂà∞Ôºö<br>NSHTTPCookieStorageÂ≠òÂú®‰∏Ä‰∏™ÈóÆÈ¢òÔºåsetCookieÊàñËÄÖdeleteCookieÂêéÂπ∂‰∏ç‰ºöÁ´ãÂç≥ËøõË°åÊåÅ‰πÖÂåñÔºåËÄåÊòØÊúâÂá†ÁßíÁöÑÂª∂Ëøü„ÄÇ‰∏∫‰∫ÜÂèØÈù†ÊÄßÔºåÊàë‰ª¨‰ºöÂ∞Ücookie‰ø°ÊÅØ‰øùÂ≠ò‰∏Ä‰ªΩÂà∞User DefaultsÔºåÈúÄË¶ÅÁî®ÁöÑÊó∂ÂÄôloadËøõÊù•„ÄÇ</p>
<ul>
<li>ÂÆ¢Êà∑Á´ØÊâãÂä®ËÆæÁΩÆCookie</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableDictionary</span> *cookieProperties = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line">[cookieProperties setObject:<span class="string">@"name"</span> forKey:<span class="built_in">NSHTTPCookieName</span>];</span><br><span class="line">[cookieProperties setObject:<span class="string">@"value"</span> forKey:<span class="built_in">NSHTTPCookieValue</span>];</span><br><span class="line">[cookieProperties setObject:<span class="string">@"www.taobao.com"</span> forKey:<span class="built_in">NSHTTPCookieDomain</span>];</span><br><span class="line">[cookieProperties setObject:<span class="string">@"/"</span> forKey:<span class="built_in">NSHTTPCookiePath</span>];</span><br><span class="line">[cookieProperties setObject:<span class="string">@"0"</span> forKey:<span class="built_in">NSHTTPCookieVersion</span>];</span><br><span class="line">[cookieProperties setObject:<span class="string">@"30000"</span> forKey:<span class="built_in">NSHTTPCookieMaximumAge</span>];</span><br><span class="line"><span class="built_in">NSHTTPCookie</span> *cookie = [<span class="built_in">NSHTTPCookie</span> cookieWithProperties:cookieProperties];</span><br><span class="line">[[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] setCookie:cookie];</span><br><span class="line"><span class="comment">//Âà†Èô§cookieÁöÑÊñπÊ≥ï‰∏∫deleteCookie:</span></span><br></pre></td></tr></table></figure>
<p>Âú®ÈÄöËøásetCookie:ËøõË°åËÆæÁΩÆcookieÁöÑÊó∂ÂÄôÔºå‰ºöË¶ÜÁõñname,domain,pathÈÉΩÁõ∏ÂêåÁöÑcookieÁöÑ„ÄÇ<br>Ëá≥‰∫écookie‰ºö‰∏ç‰ºöÊåÅ‰πÖÂåñÂà∞cookieÊñá‰ª∂‰∏≠‰∏ªË¶ÅÁúãËøô‰∏™cookieÁöÑÁîüÂëΩÂë®ÊúüÔºåÂíåMax-AgeÊàñËÄÖExpiresÊúâÂÖ≥„ÄÇ</p>
<ul>
<li>ÈÄöËøáHTTP HeaderÁöÑSet-CookieÂêéËÄÖSet-Cookie2ËÆæÁΩÆCookie</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//ËØ∑Ê±Ç‰∏Ä‰∏™ÁΩëÂùÄÔºåÂç≥ÂèØÂàÜÈÖçÂà∞cookie</span></span><br><span class="line">    AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</span><br><span class="line">    manager.responseSerializer = [AFJSONResponseSerializer new];</span><br><span class="line">    [manager GET:urlString parameters:<span class="literal">nil</span> success:^(AFHTTPRequestOperation *operation, <span class="keyword">id</span> responseObject) &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">//Ëé∑Âèñcookie</span></span><br><span class="line">        <span class="built_in">NSArray</span> *cookies = [[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] cookies];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * ÊääcookieËøõË°åÂΩíÊ°£Âπ∂ËΩ¨Êç¢‰∏∫NSDataÁ±ªÂûã</span></span><br><span class="line"><span class="comment">         * Ê≥®ÊÑèÔºöcookie‰∏çËÉΩÁõ¥Êé•ËΩ¨Êç¢‰∏∫NSDataÁ±ªÂûãÔºåÂê¶Âàô‰ºöÂºïËµ∑Â¥©Ê∫É„ÄÇ</span></span><br><span class="line"><span class="comment">         * ÊâÄ‰ª•ÂÖàËøõË°åÂΩíÊ°£Â§ÑÁêÜÔºåÂÜçËΩ¨Êç¢‰∏∫Data</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="built_in">NSData</span> *cookiesData = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject: [[<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage] cookies]];</span><br><span class="line"> </span><br><span class="line">        <span class="comment">//Â≠òÂÇ®ÂΩíÊ°£ÂêéÁöÑcookie</span></span><br><span class="line">        <span class="built_in">NSUserDefaults</span> *userDefaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">        [userDefaults setObject: cookiesData forKey: <span class="string">@"cookie"</span>];</span><br><span class="line">        [<span class="keyword">self</span> setCookie];</span><br><span class="line">        </span><br><span class="line">    &#125; failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line"> </span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    - (<span class="keyword">void</span>)setCookie</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//ÂèñÂá∫‰øùÂ≠òÁöÑcookie</span></span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *userDefaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ÂØπÂèñÂá∫ÁöÑcookieËøõË°åÂèçÂΩíÊ°£Â§ÑÁêÜ</span></span><br><span class="line">    <span class="built_in">NSArray</span> *cookies = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:[userDefaults objectForKey:<span class="string">@"cookie"</span>]];</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (cookies) &#123;</span><br><span class="line">        <span class="comment">//ËÆæÁΩÆcookie</span></span><br><span class="line">        <span class="built_in">NSHTTPCookieStorage</span> *cookieStorage = [<span class="built_in">NSHTTPCookieStorage</span> sharedHTTPCookieStorage];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">id</span> cookie <span class="keyword">in</span> cookies) &#123;</span><br><span class="line">            [cookieStorage setCookie:(<span class="built_in">NSHTTPCookie</span> *)cookie];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Êó†cookie"</span>);</span><br><span class="line">   &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ÂèÇËÄÉ"><a href="#ÂèÇËÄÉ" class="headerlink" title="ÂèÇËÄÉ"></a>ÂèÇËÄÉ</h3><p><a href="https://developer.apple.com/reference/foundation/nshttpcookiestorage" target="_blank" rel="noopener">NSHTTPCookieStorage</a></p>
<p><a href="https://developer.apple.com/library/prerelease/content/documentation/Cocoa/Conceptual/URLLoadingSystem/CookiesandCustomProtocols/CookiesandCustomProtocols.html" target="_blank" rel="noopener">Cookies and Custom Protocols</a></p>
<p><a href="http://geeklu.com/2013/04/ios-cookie/" target="_blank" rel="noopener">http://geeklu.com/2013/04/ios-cookie/</a></p>
<p><a href="http://blog.it985.com/11248.html" target="_blank" rel="noopener">http://blog.it985.com/11248.html</a></p>
<p><em>„ÄäHTTP ÊùÉÂ®ÅÊåáÂçó„ÄãÁ¨¨11Á´† ÂÆ¢Êà∑Á´ØËØÜÂà´‰∏écookieÊú∫Âà∂</em></p>
<h3 id="Áõ∏ÂÖ≥ÂØºÂºï"><a href="#Áõ∏ÂÖ≥ÂØºÂºï" class="headerlink" title="Áõ∏ÂÖ≥ÂØºÂºï"></a>Áõ∏ÂÖ≥ÂØºÂºï</h3><p>Ëß£ÂÜ≥UIWebViewÂíåWKWebView‰πãÈó¥ÁöÑcookieÂÖ±‰∫´ÈóÆÈ¢òÔºö</p>
<p><a href="https://fengqiangboy.com/14611518603473.html" target="_blank" rel="noopener">iOSÂºÄÂèë-ÊâìÈÄöUIWebViewÂíåWKWebViewÁöÑCookie</a></p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Jakey
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="http://www.yangjie.hu/2017/01/12/cookie-in-iOS/" title="Cookie in iOS">http://www.yangjie.hu/2017/01/12/cookie-in-iOS/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/iOS/" rel="tag"># iOS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/01/10/Objective-C‰∏≠ÁöÑË£ÖÈ•∞Ê®°Âºè/" rel="prev" title="Objective-C‰∏≠ÁöÑË£ÖÈ•∞Ê®°Âºè">
      <i class="fa fa-chevron-left"></i> Objective-C‰∏≠ÁöÑË£ÖÈ•∞Ê®°Âºè
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/01/19/SwiftÁöÑweak-unowned-unowned-unsafe/" rel="next" title="SwiftÁöÑweak Unowned Unowned(unsafe)">
      SwiftÁöÑweak Unowned Unowned(unsafe) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#ËÉåÊôØ"><span class="nav-number">1.</span> <span class="nav-text">ËÉåÊôØ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie‰ªãÁªç"><span class="nav-number">2.</span> <span class="nav-text">Cookie‰ªãÁªç</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSHTTPCookieStorage"><span class="nav-number">3.</span> <span class="nav-text">NSHTTPCookieStorage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NSHTTPCookie"><span class="nav-number">4.</span> <span class="nav-text">NSHTTPCookie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie‰ΩøÁî®üí™‰∏™üå∞"><span class="nav-number">5.</span> <span class="nav-text">Cookie‰ΩøÁî®üí™‰∏™üå∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ÂèÇËÄÉ"><span class="nav-number">6.</span> <span class="nav-text">ÂèÇËÄÉ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Áõ∏ÂÖ≥ÂØºÂºï"><span class="nav-number">7.</span> <span class="nav-text">Áõ∏ÂÖ≥ÂØºÂºï</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jakey"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Jakey</p>
  <div class="site-description" itemprop="description">ÊâòËµ∑‰∏ÄÁâáÁªøÂè∂ÁöÑ iOS ‰∏¥Êó∂Â∑•</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">61</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/HuyangJake" title="GitHub ‚Üí https://github.com/HuyangJake" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jakey_yang@hotmail.com" title="E-Mail ‚Üí mailto:jakey_yang@hotmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/joybook_jake" title="Twitter ‚Üí https://twitter.com/joybook_jake" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://note.huyangjie.cn" title="http://note.huyangjie.cn" rel="noopener" target="_blank">Jakey's NoteBook</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="/">Ê¨¢ËøéÊ∑ªÂä†ÂèãÈìæ</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="http://www.beian.miit.gov.cn" rel="noopener" target="_blank">ÊµôICPÂ§á </a>
      <img src="http://qiniu.huyangjie.cn/beian_icon.png" style="display: inline-block;"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=18046274" rel="noopener" target="_blank">18046274Âè∑-1 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jakey</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  <script src="/js/local-search.js"></script>








<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://www.yangjie.hu/2017/01/12/cookie-in-iOS/',]
      });
      });
  </script>

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://coldreading-1.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://www.yangjie.hu/2017/01/12/cookie-in-iOS/";
    this.page.identifier = "2017/01/12/cookie-in-iOS/";
    this.page.title = "Cookie in iOS";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://coldreading-1.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
